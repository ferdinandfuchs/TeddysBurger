---
interface Props {
  restaurantName?: string;
  logoUrl?: string;
}

const { restaurantName = "Teddy's Burger", logoUrl } = Astro.props;

const navLinks = [
  { href: '#menu', label: 'Speisekarte' },
  { href: '#location', label: 'Standort' },
  { href: '#gallery', label: 'Galerie' },
  { href: '#contact', label: 'Kontakt' },
];
---

<header class="sticky top-0 z-50 bg-background/95 backdrop-blur-sm border-b border-foreground/10">
  <nav class="container mx-auto px-4">
    <div class="flex items-center justify-between h-16 md:h-20">
      <!-- Logo / Restaurant Name -->
      <a href="/" class="flex items-center gap-3 group">
        {logoUrl ? (
          <img src={logoUrl} alt={restaurantName} class="h-10 md:h-12 w-auto" />
        ) : (
          <span class="text-xl md:text-2xl font-bold font-heading text-accent group-hover:text-accent-hover transition-colors">
            {restaurantName}
          </span>
        )}
      </a>

      <!-- Desktop Navigation -->
      <ul class="hidden md:flex items-center gap-8">
        {navLinks.map((link) => (
          <li>
            <a
              href={link.href}
              class="text-foreground hover:text-accent transition-colors font-medium"
            >
              {link.label}
            </a>
          </li>
        ))}
      </ul>

      <!-- Mobile Menu Button -->
      <button
        id="mobile-menu-btn"
        type="button"
        class="md:hidden p-2 text-foreground hover:text-accent transition-colors"
        aria-label="Menü öffnen"
        aria-expanded="false"
        aria-controls="mobile-menu"
      >
        <svg
          id="menu-icon-open"
          class="w-6 h-6"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M4 6h16M4 12h16M4 18h16"
          />
        </svg>
        <svg
          id="menu-icon-close"
          class="w-6 h-6 hidden"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M6 18L18 6M6 6l12 12"
          />
        </svg>
      </button>
    </div>

    <!-- Mobile Navigation -->
    <div
      id="mobile-menu"
      class="hidden md:hidden pb-4"
    >
      <ul class="flex flex-col gap-4">
        {navLinks.map((link) => (
          <li>
            <a
              href={link.href}
              class="block py-2 text-foreground hover:text-accent transition-colors font-medium"
            >
              {link.label}
            </a>
          </li>
        ))}
      </ul>
    </div>
  </nav>
</header>

<script>
  const mobileMenuBtn = document.getElementById('mobile-menu-btn');
  const mobileMenu = document.getElementById('mobile-menu');
  const menuIconOpen = document.getElementById('menu-icon-open');
  const menuIconClose = document.getElementById('menu-icon-close');

  if (mobileMenuBtn && mobileMenu && menuIconOpen && menuIconClose) {
    mobileMenuBtn.addEventListener('click', () => {
      const isExpanded = mobileMenuBtn.getAttribute('aria-expanded') === 'true';

      mobileMenuBtn.setAttribute('aria-expanded', String(!isExpanded));
      mobileMenu.classList.toggle('hidden');
      menuIconOpen.classList.toggle('hidden');
      menuIconClose.classList.toggle('hidden');
    });

    // Close menu when clicking a link
    const mobileLinks = mobileMenu.querySelectorAll('a');
    mobileLinks.forEach((link) => {
      link.addEventListener('click', () => {
        mobileMenu.classList.add('hidden');
        menuIconOpen.classList.remove('hidden');
        menuIconClose.classList.add('hidden');
        mobileMenuBtn.setAttribute('aria-expanded', 'false');
      });
    });
  }
</script>
